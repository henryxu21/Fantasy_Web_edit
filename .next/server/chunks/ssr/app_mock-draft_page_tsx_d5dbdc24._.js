module.exports=[22156,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(72131),e=a.i(68515);function f(){let[a,f]=(0,d.useState)(null),[g,h]=(0,d.useState)([]),[i,j]=(0,d.useState)(!1),[k,l]=(0,d.useState)(null),[m,n]=(0,d.useState)([]),[o,p]=(0,d.useState)([]),[q,r]=(0,d.useState)(1),[s,t]=(0,d.useState)([]),[u,v]=(0,d.useState)({name:"Mock Draft",teams:12,position:6,rounds:13,type:"snake"}),[w,x]=(0,d.useState)(!1);(0,d.useEffect)(()=>{f((0,e.getSessionUser)()),h((0,e.getPlayers)()),t((0,e.listDrafts)())},[]);let y=()=>{let a=Math.ceil(q/u.teams),b=(q-1)%u.teams+1;return"snake"===u.type?a%2==1?b===u.position:b===u.teams-u.position+1:b===u.position},z=q>u.teams*u.rounds;return i?(0,b.jsxs)("div",{className:"app draft-room",children:[(0,b.jsx)("header",{className:"draft-header",children:(0,b.jsxs)("div",{className:"draft-header-inner",children:[(0,b.jsxs)("div",{className:"draft-info",children:[(0,b.jsx)("h1",{children:u.name}),(0,b.jsx)("span",{className:"draft-status",children:z?"é€‰ç§€å®Œæˆï¼":`ç¬¬ ${Math.ceil(q/u.teams)} è½® \xb7 ç¬¬ ${q} é¡ºä½`})]}),(0,b.jsxs)("div",{className:"draft-actions",children:[z?(0,b.jsx)(c.default,{href:"/my-team",className:"btn btn-primary",children:"æŸ¥çœ‹çƒé˜Ÿ"}):(0,b.jsx)("span",{className:`pick-indicator ${y()?"your-turn":""}`,children:y()?"ðŸŽ¯ è½®åˆ°ä½ é€‰äº†ï¼":"â³ AI æ­£åœ¨é€‰æ‹©..."}),(0,b.jsx)("button",{className:"btn btn-ghost",onClick:()=>{j(!1),t((0,e.listDrafts)())},children:"é€€å‡º"})]})]})}),(0,b.jsxs)("div",{className:"draft-main",children:[(0,b.jsxs)("div",{className:"draft-board",children:[(0,b.jsxs)("div",{className:"board-header",children:[(0,b.jsx)("h2",{children:"å¯é€‰çƒå‘˜"}),(0,b.jsxs)("span",{children:[o.length," äººå¯é€‰"]})]}),(0,b.jsx)("div",{className:"player-grid",children:o.slice(0,50).map(a=>(0,b.jsxs)("div",{className:`draft-player ${y()?"selectable":"disabled"}`,onClick:()=>y()&&void(y()&&(n([...m,a]),p(o.filter(b=>b.id!==a.id)),k&&(0,e.addDraftPick)(k.id,a.id,"user",Math.ceil(q/u.teams),q),(()=>{let a=q+1,b=[...o];for(;a<=u.teams*u.rounds;){let c=Math.ceil(a/u.teams),d=(a-1)%u.teams+1;if("snake"===u.type?c%2==1?d===u.position:d===u.teams-u.position+1:d===u.position){r(a),p(b);return}if(b.length>0){let a=Math.floor(Math.random()*Math.min(3,b.length));b=b.filter((b,c)=>c!==a)}a++}k&&(0,e.updateDraft)(k.id,{status:"completed",completedAt:Date.now()}),r(a),p(b)})())),children:[(0,b.jsxs)("span",{className:"draft-rank",children:["#",a.rank]}),(0,b.jsxs)("div",{className:"draft-player-info",children:[(0,b.jsx)("span",{className:"draft-player-name",children:a.name}),(0,b.jsxs)("span",{className:"draft-player-meta",children:[a.team," Â· ",a.position]})]}),(0,b.jsxs)("div",{className:"draft-player-stats",children:[(0,b.jsxs)("span",{children:[a.ppg," PPG"]}),(0,b.jsxs)("span",{children:[a.rpg," RPG"]}),(0,b.jsxs)("span",{children:[a.apg," APG"]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"my-team-panel",children:[(0,b.jsxs)("div",{className:"panel-header",children:[(0,b.jsx)("h2",{children:"æˆ‘çš„çƒé˜Ÿ"}),(0,b.jsxs)("span",{children:[m.length," / ",u.rounds," äºº"]})]}),(0,b.jsx)("div",{className:"my-picks",children:0===m.length?(0,b.jsx)("div",{className:"empty-picks",children:"ç­‰å¾…é€‰ç§€å¼€å§‹..."}):m.map((a,c)=>(0,b.jsxs)("div",{className:"my-pick-item",children:[(0,b.jsxs)("span",{className:"pick-round",children:["Rd ",c+1]}),(0,b.jsx)("span",{className:"pick-name",children:a.name}),(0,b.jsx)("span",{className:"pick-pos",children:a.position})]},a.id))})]})]})]}):(0,b.jsxs)("div",{className:"app",children:[(0,b.jsx)("header",{className:"header",children:(0,b.jsxs)("div",{className:"header-inner",children:[(0,b.jsxs)(c.default,{href:"/",className:"logo",children:[(0,b.jsx)("div",{className:"logo-icon",children:(0,b.jsxs)("svg",{viewBox:"0 0 40 40",fill:"none",children:[(0,b.jsx)("circle",{cx:"20",cy:"20",r:"18",stroke:"currentColor",strokeWidth:"2.5"}),(0,b.jsx)("path",{d:"M20 4 C20 4, 8 16, 20 20 C32 24, 20 36, 20 36",stroke:"currentColor",strokeWidth:"2.5",fill:"none"}),(0,b.jsx)("path",{d:"M4 20 H36",stroke:"currentColor",strokeWidth:"2.5"})]})}),(0,b.jsxs)("div",{className:"logo-text",children:[(0,b.jsx)("span",{className:"logo-title",children:"è“æœ¬"}),(0,b.jsx)("span",{className:"logo-sub",children:"Fantasy ç¯®çƒå†³ç­–å¹³å°"})]})]}),(0,b.jsx)(c.default,{href:"/",className:"btn btn-ghost",children:"â† è¿”å›žé¦–é¡µ"})]})}),(0,b.jsx)("nav",{className:"main-nav",children:(0,b.jsxs)("div",{className:"nav-inner",children:[(0,b.jsx)(c.default,{href:"/",className:"nav-link",children:"é¦–é¡µ"}),(0,b.jsx)(c.default,{href:"/rankings",className:"nav-link",children:"çƒå‘˜æŽ’å"}),(0,b.jsx)(c.default,{href:"/draft-guide",className:"nav-link",children:"é€‰ç§€æŒ‡å—"}),(0,b.jsx)(c.default,{href:"/cheat-sheet",className:"nav-link",children:"å¤‡å¿˜å•"}),(0,b.jsx)(c.default,{href:"/how-to-play",className:"nav-link",children:"æ–°æ‰‹å…¥é—¨"}),(0,b.jsx)(c.default,{href:"/my-team",className:"nav-link",children:"æˆ‘çš„çƒé˜Ÿ"}),(0,b.jsx)(c.default,{href:"/mock-draft",className:"nav-link active",children:"æ¨¡æ‹Ÿé€‰ç§€"})]})}),(0,b.jsxs)("main",{className:"page-content",children:[(0,b.jsxs)("div",{className:"page-header",children:[(0,b.jsx)("h1",{className:"page-title",children:"æ¨¡æ‹Ÿé€‰ç§€ Mock Draft"}),(0,b.jsx)("p",{className:"page-desc",children:"ç»ƒä¹ ä½ çš„é€‰ç§€ç­–ç•¥ï¼Œæ•°æ®ä¼šè‡ªåŠ¨ä¿å­˜"})]}),(0,b.jsxs)("div",{className:"draft-setup",children:[(0,b.jsxs)("div",{className:"setup-card",children:[(0,b.jsx)("h2",{children:"å¼€å§‹æ–°çš„æ¨¡æ‹Ÿé€‰ç§€"}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"é€‰ç§€åç§°"}),(0,b.jsx)("input",{className:"form-input",value:u.name,onChange:a=>v({...u,name:a.target.value}),placeholder:"Mock Draft"})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"è”èµ›äººæ•°"}),(0,b.jsxs)("select",{className:"form-input",value:u.teams,onChange:a=>v({...u,teams:+a.target.value,position:Math.min(u.position,+a.target.value)}),children:[(0,b.jsx)("option",{value:10,children:"10 é˜Ÿ"}),(0,b.jsx)("option",{value:12,children:"12 é˜Ÿ"}),(0,b.jsx)("option",{value:14,children:"14 é˜Ÿ"})]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"ä½ çš„é€‰ç§€ä½ç½®"}),(0,b.jsx)("select",{className:"form-input",value:u.position,onChange:a=>v({...u,position:+a.target.value}),children:Array.from({length:u.teams},(a,c)=>(0,b.jsxs)("option",{value:c+1,children:["ç¬¬ ",c+1," é¡ºä½"]},c))})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"é€‰ç§€è½®æ•°"}),(0,b.jsxs)("select",{className:"form-input",value:u.rounds,onChange:a=>v({...u,rounds:+a.target.value}),children:[(0,b.jsx)("option",{value:10,children:"10 è½®"}),(0,b.jsx)("option",{value:13,children:"13 è½®"}),(0,b.jsx)("option",{value:15,children:"15 è½®"})]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"é€‰ç§€ç±»åž‹"}),(0,b.jsxs)("select",{className:"form-input",value:u.type,onChange:a=>v({...u,type:a.target.value}),children:[(0,b.jsx)("option",{value:"snake",children:"è›‡å½¢é€‰ç§€ Snake"}),(0,b.jsx)("option",{value:"linear",children:"çº¿æ€§é€‰ç§€ Linear"})]})]}),(0,b.jsx)("button",{className:"btn btn-primary btn-lg",onClick:()=>{if(p([...(0,e.getPlayers)()]),a){let a=(0,e.createDraft)({name:u.name,type:u.type,teams:u.teams,rounds:u.rounds,userPosition:u.position});a.ok&&l(a.draft)}j(!0),r(1),n([])},style:{width:"100%",marginTop:16},children:"å¼€å§‹é€‰ç§€"})]}),s.length>0&&(0,b.jsxs)("div",{className:"setup-card",children:[(0,b.jsx)("h3",{children:"åŽ†å²é€‰ç§€è®°å½•"}),(0,b.jsx)("div",{className:"draft-history",children:s.slice(-5).reverse().map(a=>(0,b.jsxs)("div",{className:"history-item",children:[(0,b.jsx)("span",{className:"history-name",children:a.name}),(0,b.jsxs)("span",{className:"history-info",children:[a.teams," é˜Ÿ Â· ","completed"===a.status?"å·²å®Œæˆ":"è¿›è¡Œä¸­"]}),(0,b.jsx)("span",{className:"history-date",children:new Date(a.createdAt).toLocaleDateString()})]},a.id))})]})]})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=app_mock-draft_page_tsx_d5dbdc24._.js.map